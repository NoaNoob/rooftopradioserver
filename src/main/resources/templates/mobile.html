<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head th:replace="fragments/header :: header('Login')" />
<body>

<video id="video_background" preload="auto" autoplay="true" loop="loop" muted="muted" volume="0"> 
   <source src="fiber640.mp4" type="video/mp4"></video>
 
<div id="video_pattern"></div>

	<div id="root">
		<div style="display: flex;flex-direction: column;justify-content: space-evenly;align-items: center">
			<img style="width: 90%" src="logo-transp.png">

			<div class="textmobile glow">FIND AND FOLLOW US ON</div>

			<div class="flex-item card insta" style="margin: 10px 10px 10px 10px; display: flex; justify-content: space-evenly">
				<a href="https://www.instagram.com/rooftopradioband/" target="_blank"> <img
					class="sociallogomobile" src="instagram.png">
				</a>
				<a href="https://www.facebook.com/RooftopRadioBand/" target="_blank"> <img
					class="sociallogomobile" src="facebook.png">
				</a>
				<a href="https://www.youtube.com/watch?v=XhmWdbrLBVA" target="_blank"> <img
					class="sociallogomobile" src="youtube.png">
				</a>
				<a href="https://open.spotify.com/artist/7mlAiaGg8FYFj7pD9Pq1jp">
					<img class="sociallogomobile" src="spotify_small.png">
				</a>
			</div>

			<div class="textmobile glow">LISTEN HERE FOR FREE</div>

			<div class="flex-item" style="width: 90%; display: flex; flex-direction: column; justify-content: center">
				<p>
					<button style="width: 100%;" class="playerbutton" v-on:click="playMirror">My Mirror</button>
				</p>
				<p>
					<button style="width: 100%;" class="playerbutton" v-on:click="playAstray">Astray</button>
				</p>
				<p>
					<button style="width: 100%;" class="playerbutton" v-on:click="playDontRemember">Don't Remember</button>
				</p>
				<p>
					<button style="width: 100%;" class="playerbutton" v-on:click="playTooLate">Too Late</button>
				</p>
			</div>
		</div>
		<div id="playercontrols" class="playercontrols">
			<p>
				<span style="margin-right: 5px;" class="glyphicon glyphicon-play" aria-hidden="true" v-on:click="continueSong"></span>
				<span style="margin-right: 5px;" class="glyphicon glyphicon-pause" aria-hidden="true" v-on:click="stopAll"></span>
				<span style="margin-right: 5px;" class="glyphicon glyphicon-stop" aria-hidden="true" v-on:click="hidePlayer"></span>
				{{ current }}
			</p>
			<p>
				<audio id="audioplayer" controls style="width: 100%;">
					<source id="source" src="RooftopRadioMyMirror.mp3"
						type="audio/mpeg">
				</audio>
			</p>
		</div>

		<div id="playerspace" class="playerspace">
		ROOFTOP RADIO @ 2019
		</div>
	</div>

</body>
<div th:replace="fragments/footer :: foot" class="footer"></div>
<script>
var app = new Vue({
    el: '#root',
    data : {
    	current: 'My Mirror',
    	hideplayer: true
    },
    mounted : function(){

    },
    methods: {
    	stopAll() {

    		document.getElementById('audioplayer').pause();
    		console.log("stopped");
    	},
    	continueSong() {

    		document.getElementById('audioplayer').play();
    		console.log("continue");
    	},
    	play(source) {
    		this.showPlayer();
    		this.stopAll();
    		document.getElementById('source').src = source;    		
    		document.getElementById('audioplayer').load(); 		
    		document.getElementById('audioplayer').play(); 		
    		console.log("playing: " + source);
    	},
    	playMirror(){
    		this.current = "My Mirror";
    		this.play("RooftopRadioMyMirror.mp3");
        },
        playAstray(){
    		this.current = "Astray";
    		this.play("RooftopRadioAstray.mp3");
        },
        playDontRemember(){
    		this.current = "Don't Remember";
    		this.play("RooftopRadioDontRemember.mp3");
        },
        playTooLate(){
    		this.current = "Too Late";
    		this.play("RooftopRadioTooLate.mp3");
        },
        showPlayer() {
        	if (this.hideplayer) {
    			document.getElementById("playercontrols").style.display = "block";

    			document.getElementById("playercontrols").style.opacity = "1";
    			document.getElementById("playercontrols").style.bottom = "0";

    			this.hideplayer = false;
        	}
        },
        hidePlayer() {
        	
        	this.stopAll();

        	document.getElementById("playercontrols").style.opacity = "0";
			document.getElementById("playercontrols").style.bottom = "-200";
        }
        
        
    }
});	
</script>
</html>
